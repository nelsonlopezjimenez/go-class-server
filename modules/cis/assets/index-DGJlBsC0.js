import{j as x,l as w,r as I,f as S,aF as L,E as G,aG as P,al as p,k as V,o as $,aH as F,aI as z,aJ as B,V as H,W as U,aK as D,L as K,aL as M,a7 as X,B as j}from"./walk-object-TFPj0wfx.js";var q=x("collapsible").parts("root","trigger","content","indicator"),T=q.build(),J=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},b=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},W=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},O=e=>e.getById(b(e));function se(e,t){const{state:a,send:n,context:o,scope:s,prop:l}=e,c=a.matches("open")||a.matches("closing"),d=a.matches("open"),{width:m,height:v}=o.get("size"),g=!!l("disabled"),r=!o.get("initial")&&d,i="ltr";return{disabled:g,visible:c,open:d,measureSize(){n({type:"size.measure"})},setOpen(u){a.matches("open")!==u&&n({type:u?"open":"close"})},getRootProps(){return t.element({...T.root.attrs,"data-state":d?"open":"closed",dir:i,id:J(s)})},getContentProps(){return t.element({...T.content.attrs,"data-collapsible":"","data-state":r?void 0:d?"open":"closed",id:b(s),"data-disabled":p(g),hidden:!c,style:{"--height":v!=null?`${v}px`:void 0,"--width":m!=null?`${m}px`:void 0}})},getTriggerProps(){return t.element({...T.trigger.attrs,id:W(s),dir:i,type:"button","data-state":d?"open":"closed","data-disabled":p(g),"aria-controls":b(s),"aria-expanded":c||!1,onClick(u){u.defaultPrevented||g||n({type:d?"close":"open"})}})},getIndicatorProps(){return t.element({...T.indicator.attrs,dir:i,"data-state":d?"open":"closed","data-disabled":p(g)})}}}var re=w({initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0}})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:a}){e([()=>t("open")],()=>{a(["setInitial","computeSize","toggleVisibility"])})},exit:["clearInitial","cleanupNode"],states:{closed:{on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let a;const n=I(()=>{const o=O(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const c=d=>{G(d)===o&&e({type:"animation.end"})};o.addEventListener("animationend",c),a=()=>{o.removeEventListener("animationend",c)}});return()=>{n(),a==null||a()}},trackExitAnimation:({send:e,scope:t})=>{let a;const n=I(()=>{const o=O(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const c=m=>{G(m)===o&&e({type:"animation.end"})};o.addEventListener("animationend",c);const d=L(o,{animationFillMode:"forwards"});a=()=>{o.removeEventListener("animationend",c),P(()=>d())}});return()=>{n(),a==null||a()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,flush:t,scope:a})=>{const n=O(a);if(!n)return;const{height:o,width:s}=n.getBoundingClientRect();t(()=>{e.set("size",{height:o,width:s})})},computeSize:({refs:e,scope:t,flush:a,context:n})=>{var s;(s=e.get("cleanup"))==null||s();const o=I(()=>{const l=O(t);if(!l)return;const c=l.hidden;l.style.animationName="none",l.style.animationDuration="0s",l.hidden=!1;const d=l.getBoundingClientRect();a(()=>{n.set("size",{height:d.height,width:d.width})}),n.get("initial")&&(l.style.animationName="",l.style.animationDuration=""),l.hidden=c});e.set("cleanup",o)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}});V()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var Q=x("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),h=Q.build(),y=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},Y=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.item)==null?void 0:n.call(a,t))??`accordion:${e.id}:item:${t}`},k=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.itemContent)==null?void 0:n.call(a,t))??`accordion:${e.id}:content:${t}`},E=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.itemTrigger)==null?void 0:n.call(a,t))??`accordion:${e.id}:trigger:${t}`},Z=e=>e.getById(y(e)),C=e=>{const a=`[aria-controls][data-ownedby='${CSS.escape(y(e))}']:not([disabled])`;return j(Z(e),a)},_=e=>U(C(e)),ee=e=>H(C(e)),te=(e,t)=>B(C(e),E(e,t)),ae=(e,t)=>z(C(e),E(e,t));function le(e,t){const{send:a,context:n,prop:o,scope:s,computed:l}=e,c=n.get("focusedValue"),d=n.get("value"),m=o("multiple");function v(r){let i=r;!m&&i.length>1&&(i=[i[0]]),a({type:"VALUE.SET",value:i})}function g(r){return{expanded:d.includes(r.value),focused:c===r.value,disabled:!!(r.disabled??o("disabled"))}}return{focusedValue:c,value:d,setValue:v,getItemState:g,getRootProps(){return t.element({...h.root.attrs,dir:o("dir"),id:y(s),"data-orientation":o("orientation")})},getItemProps(r){const i=g(r);return t.element({...h.item.attrs,dir:o("dir"),id:Y(s,r.value),"data-state":i.expanded?"open":"closed","data-focus":p(i.focused),"data-disabled":p(i.disabled),"data-orientation":o("orientation")})},getItemContentProps(r){const i=g(r);return t.element({...h.itemContent.attrs,dir:o("dir"),role:"region",id:k(s,r.value),"aria-labelledby":E(s,r.value),hidden:!i.expanded,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemIndicatorProps(r){const i=g(r);return t.element({...h.itemIndicator.attrs,dir:o("dir"),"aria-hidden":!0,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemTriggerProps(r){const{value:i}=r,u=g(r);return t.button({...h.itemTrigger.attrs,type:"button",dir:o("dir"),id:E(s,i),"aria-controls":k(s,i),"aria-expanded":u.expanded,disabled:u.disabled,"data-orientation":o("orientation"),"aria-disabled":u.disabled,"data-state":u.expanded?"open":"closed","data-ownedby":y(s),onFocus(){u.disabled||a({type:"TRIGGER.FOCUS",value:i})},onBlur(){u.disabled||a({type:"TRIGGER.BLUR"})},onClick(f){u.disabled||(X()&&f.currentTarget.focus(),a({type:"TRIGGER.CLICK",value:i}))},onKeyDown(f){if(f.defaultPrevented||u.disabled)return;const N={ArrowDown(){l("isHorizontal")||a({type:"GOTO.NEXT",value:i})},ArrowUp(){l("isHorizontal")||a({type:"GOTO.PREV",value:i})},ArrowRight(){l("isHorizontal")&&a({type:"GOTO.NEXT",value:i})},ArrowLeft(){l("isHorizontal")&&a({type:"GOTO.PREV",value:i})},Home(){a({type:"GOTO.FIRST",value:i})},End(){a({type:"GOTO.LAST",value:i})}},A=M(f,{dir:o("dir"),orientation:o("orientation")}),R=N[A];R&&(R(f),f.preventDefault())}})}}}var{and:ne,not:oe}=$(),de=w({props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(a){var n;(n=e("onFocusChange"))==null||n({value:a})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var n;(n=e("onValueChange"))==null||n({value:a})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:ne("isExpanded","canToggle"),actions:["collapse"]},{guard:oe("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:a}){const n=t("multiple")?K(e.get("value"),a.value):[];e.set("value",n)},expand({context:e,prop:t,event:a}){const n=t("multiple")?D(e.get("value"),a.value):[a.value];e.set("value",n)},focusFirstTrigger({scope:e}){var t;(t=_(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=ee(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){const a=e.get("focusedValue");if(!a)return;const n=te(t,a);n==null||n.focus()},focusPrevTrigger({context:e,scope:t}){const a=e.get("focusedValue");if(!a)return;const n=ae(t,a);n==null||n.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(F("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}});V()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);V()(["value","disabled"]);export{Q as a,q as b,se as c,de as d,le as e,re as m};
//# sourceMappingURL=index-DGJlBsC0.js.map

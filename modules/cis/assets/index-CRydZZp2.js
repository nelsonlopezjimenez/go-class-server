import{a as h,o as e,w as $}from"./chunk-NL6KNZEE-DP164oF9.js";import{u as T,b as v}from"./apiSlice-BSTROV0y.js";import{D as P,a as k,b as y,c as R,d as A,e as B,f as z,u as E,g as F,h as S,C as M}from"./close-button-Y7UhAvmy.js";import{aC as C,aE as I}from"./walk-object-TFPj0wfx.js";import{c as G}from"./create-slot-recipe-context-DOQx6SL9.js";import{e as D,f as H}from"./factory-CpKR1Kqy.js";import{E as L,L as W}from"./link-button-BatzFd3-.js";import{G as w}from"./index-CSHCgXoW.js";import{c as O}from"./create-recipe-context-CbGtCrS1.js";import{H as Y}from"./heading-DiwzDhlz.js";import{B as l}from"./button-DtlaUZDc.js";import{G as N}from"./grid-Bp3Rw6jT.js";import{C as g,a as f,b as j,d as x,e as Q}from"./card-CH4itf7M.js";import"./index-BjMG__kk.js";const{withRootProvider:b,withContext:s}=G({key:"dialog"});b(F,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const U=b(A,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),V=s(B,"trigger",{forwardAsChild:!0}),_=s(k,"positioner",{forwardAsChild:!0}),q=s(y,"content",{forwardAsChild:!0});s(S,"description",{forwardAsChild:!0});const J=s(z,"title",{forwardAsChild:!0}),K=s(R,"closeTrigger",{forwardAsChild:!0}),X=h.forwardRef(function(r,o){const n=E();return e.jsx(D.button,{...r,ref:o,onClick:()=>n.setOpen(!1)})}),Z=s(P,"backdrop",{forwardAsChild:!0}),ee=s("div","body"),te=s("div","footer"),oe=s("div","header"),p=h.forwardRef(function(r,o){const{columns:n,minChildWidth:i,...a}=r,d=H(),u=i?ne(i,d):se(n);return e.jsx(N,{ref:o,templateColumns:u,...a})});function re(t){return typeof t=="number"?`${t}px`:t}function ne(t,r){return C(t,o=>{const n=r.tokens.getVar(`sizes.${o}`,re(o));return o===null?null:`repeat(auto-fit, minmax(${n}, 1fr))`})}function se(t){return C(t,r=>r===null?null:`repeat(${r}, minmax(0, 1fr))`)}const{withContext:ie}=O({key:"text"}),c=ie("p"),ae=D("strong",{base:{fontWeight:"semibold"}}),le=h.forwardRef(function(r,o){const{children:n,portalled:i=!0,portalRef:a,backdrop:d=!0,...u}=r;return e.jsxs(I,{disabled:!i,container:a,children:[d&&e.jsx(Z,{}),e.jsx(_,{children:e.jsx(q,{ref:o,...u,asChild:!1,children:n})})]})}),de=h.forwardRef(function(r,o){return e.jsx(K,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:e.jsx(M,{size:"sm",ref:o,children:r.children})})}),ce=U,he=te,ue=oe,ge=ee,xe=J,me=V,m=X;function fe(t){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function je(t){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}const pe=({domain:t})=>{const[r,{isSuccess:o,isLoading:n,isError:i}]=T(),a=d=>{r(d)};return e.jsxs(le,{children:[e.jsx(ue,{children:e.jsx(xe,{children:"Are you sure?"})}),e.jsxs(ge,{children:[!n&&!o&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:["Clicking the install button will download ",t]}),e.jsx(ae,{children:"Be prepared to wait up to several minutes"})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx(L,{children:"Please be patient. This may take several minutes. "}),e.jsx(c,{children:"You must remain connected to the docking station while the site is being downloaded"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:"SUCCESS"}),e.jsx(c,{children:"Click the green check to refresh your websites list"})]})]}),e.jsx(he,{children:o?e.jsx(m,{asChild:!0,children:e.jsx(l,{colorPalette:"green",children:e.jsx(je,{})})}):i?e.jsxs(e.Fragment,{children:[e.jsx(m,{asChild:!0,children:e.jsx(l,{variant:"outline",children:"Cancel"})}),e.jsx(l,{loading:n,colorPalette:"red",onClick:()=>a(t),children:e.jsx(fe,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{asChild:!0,children:e.jsx(l,{variant:"outline",children:"Cancel"})}),e.jsx(l,{loading:n,colorPalette:"blue",onClick:()=>a(t),children:"Install"})]})}),e.jsx(de,{})]})},Ce=t=>`http://localhost:22022/${t.IndexPath?t.IndexPath.slice(3):t.Domain}`,De=()=>{const{data:t,isSuccess:r}=v("links");return e.jsx(e.Fragment,{children:r&&t.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"elevated",mb:"4",children:[e.jsx(f,{children:e.jsx(j,{children:"Installed Websites"})}),e.jsx(x,{children:e.jsx(p,{gap:1,columns:{base:1,sm:2,md:4,lg:5,xl:6},children:t.map((o,n)=>o.Installed&&e.jsx(W,{href:Ce(o),variant:"surface",colorPalette:"blue",children:e.jsx(c,{children:o.Domain})},o.Domain+n))})})]}),e.jsxs(g,{variant:"elevated",children:[e.jsx(f,{children:e.jsx(j,{children:"Websites Available to Install -- You must be connected to the network"})}),e.jsx(x,{children:e.jsx(p,{gap:1,columns:{base:1,sm:1,md:3,lg:4,xl:5},children:t.map((o,n)=>!o.Installed&&e.jsxs(g,{size:"sm",children:[e.jsx(x,{children:e.jsx(c,{children:o.Domain})}),e.jsx(Q,{justifyContent:"flex-end",children:e.jsxs(ce,{role:"alertdialog",children:[e.jsx(me,{asChild:!0,children:e.jsx(l,{variant:"surface",colorPalette:"green",children:"Download"})}),e.jsx(pe,{domain:o.Domain})]})})]},o.Domain+n))})})]})]}):e.jsx("p",{children:"Nothing here"})})},Se=$(De);export{Se as default};
//# sourceMappingURL=index-CRydZZp2.js.map
